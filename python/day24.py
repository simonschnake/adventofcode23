from z3 import *

px = Int('px')
py = Int('py')
pz = Int('pz')
vx = Int('vx')
vy = Int('vy')
vz = Int('vz')

t = [Int(f"t{i}") for i in range(3)]

"""
19, 13, 30 @ -2,  1, -2
18, 19, 22 @ -1, -1, -2
20, 25, 34 @ -2, -2, -4
12, 31, 28 @ -1, -2, -1
20, 19, 15 @  1, -5, -3
"""


ans = Int('ans')


eqs = [
    px + t[0] * vx == 19 + t[0] * -2,
    py + t[0] * vy == 13 + t[0] * 1,
    pz + t[0] * vz == 30 + t[0] * -2,
    px + t[1] * vx == 18 + t[1] * -1,
    py + t[1] * vy == 19 + t[1] * -1,
    pz + t[1] * vz == 22 + t[1] * -2,
    px + t[2] * vx == 20 + t[2] * -2,
    py + t[2] * vy == 25 + t[2] * -2,
    pz + t[2] * vz == 34 + t[2] * -4,
    ans == px + py + pz
]

s = Solver()
s.add(eqs)

print(s.check())
m = s.model()

print(m[ans])

"""
213004023520250, 255007063487325, 286351797522218 @ 118, 41, -64
488850102886640, 357544262814165, 194409329434718 @ -73, -83, 182
193401607687542, 253348355203801, 213339230780036 @ 133, 51, 98
364824556346551, 260626401541541, 361655377972788 @ 33, 23, -23
550091223256080, 390147168353451, 262217645702178 @ -171, -128, 102
305200256686321, 316711673738693, 194854494380394 @ 145, -33, 183
207979510913750, 261386170984185, 255317192004248 @ 79, 27, -39
243923652854078, 279918496708334, 263368855906889 @ -10, -28, -46
296252401452864, 327874358550835, 377993052144176 @ 136, -51, -19
421277050485032, 273623815775052, 269761614145925 @ -12, 8, 96
387591742665614, 247504401752411, 358594078602004 @ 20, 38, -9
468809819568290, 385036788868905, 294013914519908 @ -162, -153, 36
"""

eqs2 = [
    px + t[0] * vx == 213004023520250 + t[0] * 118,
    py + t[0] * vy == 255007063487325 + t[0] * 41,
    pz + t[0] * vz == 286351797522218 + t[0] * -64,
    px + t[1] * vx == 488850102886640 + t[1] * -73,
    py + t[1] * vy == 357544262814165 + t[1] * -83,
    pz + t[1] * vz == 194409329434718 + t[1] * 182,
    px + t[2] * vx == 193401607687542 + t[2] * 133,
    py + t[2] * vy == 253348355203801 + t[2] * 51,
    pz + t[2] * vz == 213339230780036 + t[2] * 98,
    ans == px + py + pz
]

s = Solver()

s.add(eqs2)

print(s.check())
m = s.model()

print(m[ans])